{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bilstr/Documents/GitHub/part7/extended-bloglist/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/bilstr/Documents/GitHub/part7/extended-bloglist/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice}from'@reduxjs/toolkit';import blogService from'../services/blogs';import{setNotif}from'./notifReducer';var initialState=[];var blogSlice=createSlice({name:'diaries',initialState:initialState,reducers:{appendBlogs:function appendBlogs(state,action){return state.concat(action.payload);},addVote:function addVote(state,action){console.log(action,'is action in addVote reducer');var id=action.payload.id;console.log(id,'is id in add vote');var phraseToReplace=state.find(function(word){return word.id===id;});console.log(JSON.parse(JSON.stringify(phraseToReplace)),'is json json phrasetoreplace in add vote reducer');console.log(phraseToReplace.likes,'is pTR likes in add vote');phraseToReplace.likes=action.payload.likes+1;console.log(phraseToReplace.likes,'is pTR likes in add vote after made the same as action payload likes');},removeBlog:function removeBlog(state,action){//console.log(action, 'is action in removeblog')\nvar id=action.payload;var blogWithoutDeleted=state.filter(function(diary){return diary.id!==id;});return blogWithoutDeleted;}}});var _blogSlice$actions=blogSlice.actions,addVote=_blogSlice$actions.addVote,appendBlogs=_blogSlice$actions.appendBlogs,removeBlog=_blogSlice$actions.removeBlog;export{addVote,appendBlogs,removeBlog};export var initializeBlogs=function initializeBlogs(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var books;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return blogService.getAll();case 2:books=_context.sent;dispatch(appendBlogs(books));case 4:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var newBlogs=function newBlogs(content){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var newBlog;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return blogService.create(content).catch(function(){return dispatch(setNotif('There was an error when submitting the blog\\'s information. Please try again.',5));});case 2:newBlog=_context2.sent;if(newBlog){dispatch(appendBlogs(newBlog));}case 4:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var addingVote=function addingVote(id,newObject){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var voted;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return blogService.update(id,newObject);case 2:voted=_context3.sent;console.log(voted,'is voted in adding vote in reducer');dispatch(addVote(voted));case 5:case\"end\":return _context3.stop();}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var removeEntry=function removeEntry(id){console.log(id,'is id in remove entry in reducer');return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var deletion;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return blogService.deleteEntry(id);case 2:deletion=_context4.sent;console.log(deletion,'is deletion in remove entry');dispatch(removeBlog(id));case 5:case\"end\":return _context4.stop();}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export default blogSlice.reducer;","map":{"version":3,"names":["createSlice","blogService","setNotif","initialState","blogSlice","name","reducers","appendBlogs","state","action","concat","payload","addVote","console","log","id","phraseToReplace","find","word","JSON","parse","stringify","likes","removeBlog","blogWithoutDeleted","filter","diary","actions","initializeBlogs","dispatch","getAll","books","newBlogs","content","create","catch","newBlog","addingVote","newObject","update","voted","removeEntry","deleteEntry","deletion","reducer"],"sources":["C:/Users/bilstr/Documents/GitHub/part7/extended-bloglist/src/reducers/blogReducer.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\nimport blogService from '../services/blogs'\nimport { setNotif } from './notifReducer'\n\nconst initialState = []\n\nconst blogSlice = createSlice({\n  name: 'diaries',\n  initialState,\n  reducers: {\n    appendBlogs(state, action){\n      return state.concat(action.payload)\n    },\n    addVote(state, action){\n      console.log(action, 'is action in addVote reducer')\n      const id = action.payload.id\n      console.log(id, 'is id in add vote')\n      const phraseToReplace = state.find((word) => word.id === id)\n      console.log(JSON.parse(JSON.stringify(phraseToReplace)), 'is json json phrasetoreplace in add vote reducer')\n      console.log(phraseToReplace.likes, 'is pTR likes in add vote')\n      phraseToReplace.likes = action.payload.likes + 1\n      console.log(phraseToReplace.likes, 'is pTR likes in add vote after made the same as action payload likes')\n    },\n    removeBlog(state, action){\n      //console.log(action, 'is action in removeblog')\n      const id = action.payload\n      const blogWithoutDeleted = state.filter((diary) => diary.id !== id)\n      return blogWithoutDeleted\n    }\n  }\n})\n\nexport const { addVote, appendBlogs, removeBlog } = blogSlice.actions\n\nexport const initializeBlogs = () => {\n  return async dispatch => {\n    const books = await blogService.getAll()\n    dispatch(appendBlogs(books))\n  }\n}\n\nexport const newBlogs = (content) => {\n  return async dispatch => {\n    const newBlog = await blogService.create(content).catch(() => dispatch(setNotif('There was an error when submitting the blog\\'s information. Please try again.', 5)))\n    if (newBlog){\n      dispatch(appendBlogs(newBlog))\n    }\n  }\n}\n\nexport const addingVote = (id, newObject) => {\n  return async dispatch => {\n    const voted = await blogService.update(id, newObject)\n    console.log(voted, 'is voted in adding vote in reducer')\n    dispatch(addVote(voted))\n  }\n}\n\nexport const removeEntry = (id) => {\n  console.log(id, 'is id in remove entry in reducer')\n  return async dispatch => {\n    const deletion = await blogService.deleteEntry(id)\n    console.log(deletion, 'is deletion in remove entry')\n    dispatch(removeBlog(id))\n  }\n}\n\nexport default blogSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}