{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bilstr\\\\Documents\\\\GitHub\\\\part7\\\\extended-bloglist\\\\src\\\\components\\\\Blog.js\",\n  _s = $RefreshSig$();\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { setNotif } from '../reducers/notifReducer';\nimport { addingVote } from '../reducers/blogReducer';\nimport { initializeComms, newComment } from '../reducers/commentReducer';\n//import { newComment } from '../reducers/commentReducer'\n\n//do we want to add ability to delete?\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar tester = 0;\nconst Blog = () => {\n  _s();\n  const id = useParams().id;\n  console.log(id, 'is id in blog component');\n  const dispatch = useDispatch();\n  tester += 1;\n  console.log(tester, 'is tester inside blog');\n  const blog = useSelector(state => state.blogs);\n  console.log(blog, 'is blog in Blog component');\n  const commentsSelect = useSelector(state => state.comments);\n  console.log(commentsSelect, 'is commentsSelect in blog component');\n  if (blog && commentsSelect) {\n    const displayBlog = blog.find(diary => diary.id === id);\n    console.log(displayBlog, 'is displayblog');\n    const commentsSelectMap = commentsSelect.map(thought => thought.blog ? thought : null);\n    console.log(commentsSelectMap, 'is comm select map with thought if thought blog exist');\n    const commSelectMapDef = [];\n    for (let i = 0; i < commentsSelectMap.length; i++) {\n      if (commentsSelectMap[i]) {\n        commSelectMapDef.push(commentsSelectMap[i]);\n      }\n    }\n    console.log(commSelectMapDef, 'is cSM after loop');\n    const increaseLikes = async id => {\n      const updatedBlogInfo = {\n        likes: displayBlog.likes + 1,\n        author: displayBlog.author,\n        title: displayBlog.title,\n        url: displayBlog.url\n      };\n      console.log(updatedBlogInfo, 'is updated blog info');\n      dispatch(addingVote(id, updatedBlogInfo));\n      dispatch(setNotif(`You added a like to \"${displayBlog.title}\"`, 5));\n    };\n    const postComment = event => {\n      event.preventDefault();\n      const content = event.target.comment.value;\n      console.log(content, 'is content of text file');\n      dispatch(newComment(content, id));\n    };\n    if (displayBlog) {\n      const commentBlog = commSelectMapDef.filter(quip => quip.blog.id === id);\n      console.log(commentBlog, 'is blog with comments that match blog id in blog component');\n      if (displayBlog.user) {\n        const comments = commentBlog.map((notes, i) => /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: notes.comment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 68\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 56\n        }, this));\n        console.log(comments, 'is comments in display blog notes to notes in display blog user');\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: displayBlog.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: displayBlog.url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [displayBlog.likes, \" likes \", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => increaseLikes(displayBlog.id),\n              children: \"like\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 42\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"added by \", displayBlog.user.personName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"comments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), comments]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this);\n      } else {\n        const comments = commentBlog.map((notes, i) => /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: notes.comment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 68\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 56\n        }, this));\n        console.log(comments, 'is comments in display blog notes to notes without display blog user');\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: displayBlog.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: displayBlog.url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [displayBlog.likes, \" likes \", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => increaseLikes(displayBlog.id),\n              children: \"like\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 42\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"added by \", displayBlog.user]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"peep\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"comments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: postComment,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"comment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"add comment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 51\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), comments]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this);\n      }\n    }\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this);\n  }\n};\n_s(Blog, \"fj/5neaTu5s+/MJy29N2+tlRxHk=\", false, function () {\n  return [useParams, useDispatch, useSelector, useSelector];\n});\n_c = Blog;\nexport default Blog;\nvar _c;\n$RefreshReg$(_c, \"Blog\");","map":{"version":3,"names":["useSelector","useDispatch","useParams","setNotif","addingVote","initializeComms","newComment","tester","Blog","id","console","log","dispatch","blog","state","blogs","commentsSelect","comments","displayBlog","find","diary","commentsSelectMap","map","thought","commSelectMapDef","i","length","push","increaseLikes","updatedBlogInfo","likes","author","title","url","postComment","event","preventDefault","content","target","comment","value","commentBlog","filter","quip","user","notes","personName"],"sources":["C:/Users/bilstr/Documents/GitHub/part7/extended-bloglist/src/components/Blog.js"],"sourcesContent":["import { useSelector, useDispatch } from 'react-redux'\nimport { useParams } from 'react-router-dom'\nimport { setNotif } from '../reducers/notifReducer'\nimport { addingVote } from '../reducers/blogReducer'\nimport { initializeComms, newComment } from '../reducers/commentReducer'\n//import { newComment } from '../reducers/commentReducer'\n\n//do we want to add ability to delete?\n\nvar tester = 0\n\nconst Blog = () => {\n  const id = useParams().id\n  console.log(id, 'is id in blog component')\n\n  const dispatch = useDispatch()\n\n  tester += 1\n  console.log(tester, 'is tester inside blog')\n\n  const blog = useSelector(state => state.blogs)\n  console.log(blog, 'is blog in Blog component')\n\n  const commentsSelect = useSelector(state => state.comments)\n  console.log(commentsSelect, 'is commentsSelect in blog component')\n\n\n  if (blog && commentsSelect) {\n    const displayBlog = blog.find((diary) => diary.id === id)\n    console.log(displayBlog, 'is displayblog')\n\n    const commentsSelectMap = commentsSelect.map((thought) => thought.blog ? thought : null)\n    console.log(commentsSelectMap, 'is comm select map with thought if thought blog exist')\n\n    const commSelectMapDef = []\n\n    for (let i=0; i<commentsSelectMap.length; i++){\n      if (commentsSelectMap[i]){\n        commSelectMapDef.push(commentsSelectMap[i])\n      }\n    }\n\n    console.log(commSelectMapDef, 'is cSM after loop')\n\n    const increaseLikes = async (id) => {\n\n      const updatedBlogInfo = {\n        likes: displayBlog.likes+1,\n        author: displayBlog.author,\n        title: displayBlog.title,\n        url: displayBlog.url\n      }\n\n      console.log(updatedBlogInfo, 'is updated blog info')\n      dispatch(addingVote(id, updatedBlogInfo))\n      dispatch(setNotif(`You added a like to \"${displayBlog.title}\"`, 5))\n    }\n\n    const postComment = (event) => {\n      event.preventDefault()\n      const content = event.target.comment.value\n      console.log(content, 'is content of text file')\n      dispatch(newComment(content, id))\n    }\n\n    if (displayBlog) {\n      const commentBlog = commSelectMapDef.filter((quip) => quip.blog.id === id)\n      console.log(commentBlog, 'is blog with comments that match blog id in blog component')\n\n      if (displayBlog.user) {\n        const comments = commentBlog.map((notes, i) => <ul key={i}><li>{notes.comment}</li></ul>)\n        console.log(comments, 'is comments in display blog notes to notes in display blog user')\n\n        return (\n          <div>\n            <h1>{displayBlog.title}</h1>\n            <p>{displayBlog.url}</p>\n            <p>{displayBlog.likes} likes <button onClick={() => increaseLikes(displayBlog.id)}>like</button></p>\n            <p>added by {displayBlog.user.personName}</p>\n            <p></p>\n            <h3>comments</h3>\n            {comments}\n          </div>\n        )\n      }\n      else {\n        const comments = commentBlog.map((notes, i) => <ul key={i}><li>{notes.comment}</li></ul>)\n        console.log(comments, 'is comments in display blog notes to notes without display blog user')\n\n        return (\n          <div>\n            <h1>{displayBlog.title}</h1>\n            <p>{displayBlog.url}</p>\n            <p>{displayBlog.likes} likes <button onClick={() => increaseLikes(displayBlog.id)}>like</button></p>\n            <p>added by {displayBlog.user}</p>\n            <p></p>\n            <p>peep</p>\n            <h3>comments</h3>\n            <form onSubmit={postComment}>\n              <input type=\"text\" name=\"comment\"/> <button type=\"submit\">add comment</button>\n            </form>\n            {comments}\n          </div>\n        )\n      }\n    }\n  }\n  else {\n    return (\n      <p>loading...</p>\n    )\n  }\n\n}\nexport default Blog"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}