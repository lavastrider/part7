{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/bilstr/Documents/GitHub/part7/extended-bloglist/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/bilstr/Documents/GitHub/part7/extended-bloglist/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/Users/bilstr/Documents/GitHub/part7/extended-bloglist/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from'@reduxjs/toolkit';import blogService from'../services/blogs';import userService from'../services/user';//import { setNotif } from './notifReducer'\nvar initialState=[];var userSlice=createSlice({name:'user',initialState:initialState,reducers:{saveUser:function saveUser(state,action){console.log(JSON.parse(JSON.stringify(state)),'is json json state in save user');console.log(state,'is state in save user');console.log(action,'is action in save user');var copyStateLogin=_objectSpread({},state);copyStateLogin.loggedUser=action.payload;return copyStateLogin;//return state.concat(action.payload)\n},setToken:function setToken(state,action){console.log(JSON.parse(JSON.stringify(state)),'is json json state in set token');console.log(action,'is action in set token');var copyStateToken=_objectSpread({},state);copyStateToken.token=action.payload;return copyStateToken;//return action.payload\n},appendUsers:function appendUsers(state,action){console.log(action,'is action in append users');console.log(JSON.parse(JSON.stringify(state)),'is json json state in append users');//const copyState = [ ...state ]\nvar copyState=_objectSpread({},state);console.log(copyState,'is copy state in append users');//copyState.concat(action.payload)\ncopyState.appendUsers=action.payload;return copyState;//return state.concat(action.payload)\n}}});var _userSlice$actions=userSlice.actions,saveUser=_userSlice$actions.saveUser,setToken=_userSlice$actions.setToken,appendUsers=_userSlice$actions.appendUsers;export{saveUser,setToken,appendUsers};export var userData=function userData(user){//will use save user reducer\nconsole.log(user,'is user in userdata');return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var userInfo;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:userInfo=user;dispatch(saveUser(userInfo));case 2:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var userToken=function userToken(user){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var useToke;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:console.log(user,'is user arg in user token in user reducer');_context2.next=3;return blogService.setToken(user.token);case 3:useToke=_context2.sent;console.log(user.token,'is user dot token in usertoken in user reducer');console.log(useToke,'is usetoke in usertoken in user reducer');dispatch(setToken(useToke));case 7:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var initializeUsers=function initializeUsers(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var userList;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return userService.getAll();case 2:userList=_context3.sent;console.log(userList,'is userList in get users');dispatch(appendUsers(userList));case 5:case\"end\":return _context3.stop();}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var newUser=function newUser(user){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var newUserData;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return userService.create(user);case 2:newUserData=_context4.sent;console.log(newUserData,'is new user data');dispatch(appendUsers(newUserData));case 5:case\"end\":return _context4.stop();}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export default userSlice.reducer;","map":{"version":3,"names":["createSlice","blogService","userService","initialState","userSlice","name","reducers","saveUser","state","action","console","log","JSON","parse","stringify","copyStateLogin","loggedUser","payload","setToken","copyStateToken","token","appendUsers","copyState","actions","userData","user","dispatch","userInfo","userToken","useToke","initializeUsers","getAll","userList","newUser","create","newUserData","reducer"],"sources":["C:/Users/bilstr/Documents/GitHub/part7/extended-bloglist/src/reducers/userReducer.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\nimport blogService from '../services/blogs'\nimport userService from '../services/user'\n//import { setNotif } from './notifReducer'\n\nconst initialState = []\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    saveUser(state, action) {\n      console.log(JSON.parse(JSON.stringify(state)), 'is json json state in save user')\n      console.log(state, 'is state in save user')\n      console.log(action, 'is action in save user')\n      const copyStateLogin = { ...state }\n      copyStateLogin.loggedUser = action.payload\n      return copyStateLogin\n      //return state.concat(action.payload)\n    },\n    setToken(state, action) {\n      console.log(JSON.parse(JSON.stringify(state)), 'is json json state in set token')\n      console.log(action, 'is action in set token')\n      const copyStateToken = { ...state }\n      copyStateToken.token = action.payload\n      return copyStateToken\n      //return action.payload\n    },\n    appendUsers(state, action) {\n      console.log(action, 'is action in append users')\n      console.log(JSON.parse(JSON.stringify(state)), 'is json json state in append users')\n      //const copyState = [ ...state ]\n      const copyState = { ...state }\n      console.log(copyState, 'is copy state in append users')\n      //copyState.concat(action.payload)\n      copyState.appendUsers = action.payload\n      return copyState\n      //return state.concat(action.payload)\n    }\n  }\n})\n\nexport const { saveUser, setToken, appendUsers } = userSlice.actions\n\nexport const userData = (user) => {\n  //will use save user reducer\n  console.log(user, 'is user in userdata')\n  return async dispatch => {\n    const userInfo = user\n    dispatch(saveUser(userInfo))\n  }\n}\n\nexport const userToken = (user) => {\n  return async dispatch => {\n    console.log(user, 'is user arg in user token in user reducer')\n    const useToke = await blogService.setToken(user.token)\n    console.log(user.token, 'is user dot token in usertoken in user reducer')\n    console.log(useToke, 'is usetoke in usertoken in user reducer')\n    dispatch(setToken(useToke))\n  }\n}\n\nexport const initializeUsers = () => {\n  return async dispatch => {\n    const userList = await userService.getAll()\n    console.log(userList, 'is userList in get users')\n    dispatch(appendUsers(userList))\n  }\n}\n\nexport const newUser = (user) => {\n  return async dispatch => {\n    const newUserData = await userService.create(user)\n    console.log(newUserData, 'is new user data')\n    dispatch(appendUsers(newUserData))\n  }\n}\n\nexport default userSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}