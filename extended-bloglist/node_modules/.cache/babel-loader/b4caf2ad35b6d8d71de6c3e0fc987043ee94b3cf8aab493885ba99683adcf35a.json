{"ast":null,"code":"import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{useEffect}from'react';import{initializeUsers}from'../reducers/userReducer';import{Table}from'react-bootstrap';import Spinner from'react-bootstrap/Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Users=function Users(){var dispatch=useDispatch();useEffect(function(){dispatch(initializeUsers());},[]);var setup=useSelector(function(state){return state.userInfo;});console.log(setup,'is setup');if(setup){var bloggiesUsers=useSelector(function(state){return state.userInfo.appendUsers;});//console.log(bloggiesUsers, 'is bloggies users')\nif(bloggiesUsers){//console.log(bloggiesUsers.length, 'is bloggies users length')\nvar blogPosters=[];var userInfo={poster:'',posterUser:'',posterId:'',posted:0};for(var j=0;j<bloggiesUsers.length;j++){//if array isn't empty\nif(blogPosters.length!==0){var newUserInfo=Object.create(userInfo);newUserInfo.poster=bloggiesUsers[j].personName;newUserInfo.posterUser=bloggiesUsers[j].username;newUserInfo.posterId=bloggiesUsers[j].id;newUserInfo.posted=Object.values(bloggiesUsers[j].blogs).length;blogPosters.push(newUserInfo);}else{//the array is empty\n//if the person has a name\nif(bloggiesUsers[j].personName){var _newUserInfo=Object.create(userInfo);_newUserInfo.poster=bloggiesUsers[j].personName;_newUserInfo.posterUser=bloggiesUsers[j].username;_newUserInfo.posterId=bloggiesUsers[j].id;_newUserInfo.posted=Object.values(bloggiesUsers[j].blogs).length;blogPosters.push(_newUserInfo);}}}//console.log(blogPosters, 'is blog posters')\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),/*#__PURE__*/_jsxs(Table,{striped:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"blogs created\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:blogPosters.map(function(posting,ind){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/users/\".concat(posting.posterId),children:posting.poster})}),/*#__PURE__*/_jsx(\"td\",{children:posting.posted})]},ind);})})]})]});}}return/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})});};export default Users;","map":{"version":3,"names":["useDispatch","useSelector","Link","useEffect","initializeUsers","Table","Spinner","Users","dispatch","setup","state","userInfo","console","log","bloggiesUsers","appendUsers","blogPosters","poster","posterUser","posterId","posted","j","length","newUserInfo","Object","create","personName","username","id","values","blogs","push","map","posting","ind"],"sources":["C:/Users/bilstr/Documents/GitHub/part7/extended-bloglist/src/components/Users.js"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { useEffect } from 'react'\nimport { initializeUsers } from '../reducers/userReducer'\nimport { Table } from 'react-bootstrap'\nimport Spinner from 'react-bootstrap/Spinner'\n\nconst Users = () => {\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(initializeUsers())\n  }, [])\n\n  const setup = useSelector(state => state.userInfo)\n  console.log(setup, 'is setup')\n\n  if (setup) {\n    const bloggiesUsers = useSelector(state => state.userInfo.appendUsers)\n    //console.log(bloggiesUsers, 'is bloggies users')\n\n    if (bloggiesUsers) {\n      //console.log(bloggiesUsers.length, 'is bloggies users length')\n\n      const blogPosters = []\n      const userInfo = {\n        poster: '',\n        posterUser: '',\n        posterId: '',\n        posted: 0\n      }\n\n      for (let j = 0; j < bloggiesUsers.length; j++) {\n        //if array isn't empty\n        if (blogPosters.length !== 0) {\n          const newUserInfo = Object.create(userInfo)\n          newUserInfo.poster = bloggiesUsers[j].personName\n          newUserInfo.posterUser = bloggiesUsers[j].username\n          newUserInfo.posterId = bloggiesUsers[j].id\n          newUserInfo.posted = Object.values(bloggiesUsers[j].blogs).length\n          blogPosters.push(newUserInfo)\n        }\n        else { //the array is empty\n          //if the person has a name\n          if (bloggiesUsers[j].personName) {\n            const newUserInfo = Object.create(userInfo)\n            newUserInfo.poster = bloggiesUsers[j].personName\n            newUserInfo.posterUser = bloggiesUsers[j].username\n            newUserInfo.posterId = bloggiesUsers[j].id\n            newUserInfo.posted = Object.values(bloggiesUsers[j].blogs).length\n            blogPosters.push(newUserInfo)\n          }\n        }\n      }\n\n      //console.log(blogPosters, 'is blog posters')\n\n      return (\n        <div>\n          <h1>Users</h1>\n          <Table striped>\n            <thead>\n              <tr>\n                <td></td>\n                <td><strong>blogs created</strong></td>\n              </tr>\n            </thead>\n            <tbody>\n              {blogPosters.map((posting, ind) => {\n                return (\n                  <tr key={ind}>\n                    <td><Link to={`/users/${posting.posterId}`}>{posting.poster}</Link></td>\n                    <td>{posting.posted}</td>\n                  </tr>\n                )\n              })}\n            </tbody>\n          </Table>\n        </div>\n      )\n    }\n  }\n\n  return(\n    <Spinner animation=\"border\" variant=\"primary\">\n      <span className=\"visually-hidden\">Loading...</span>\n    </Spinner>\n  )\n}\n\nexport default Users"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}