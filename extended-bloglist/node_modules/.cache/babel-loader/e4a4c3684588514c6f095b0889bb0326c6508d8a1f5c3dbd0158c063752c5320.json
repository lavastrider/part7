{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport blogService from '../services/blogs';\nimport userService from '../services/user';\n//import { setNotif } from './notifReducer'\n\nconst initialState = {\n  token: localStorage.getItem('token'),\n  isAuthenticated: localStorage.getItem('token') ? true : false,\n  isLoading: false,\n  isRegistered: false\n};\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    saveUser(state, action) {\n      console.log(JSON.parse(JSON.stringify(state)), 'is json json state in save user');\n      console.log(state, 'is state in save user');\n      console.log(action, 'is action in save user');\n      return action.payload;\n    },\n    setToken(state, action) {\n      console.log(JSON.parse(JSON.stringify(state)), 'is json json state in set token');\n      console.log(action, 'is action in set token');\n      return action.payload;\n    },\n    sendUsers(state, action) {\n      console.log(action, 'is action in sendusers');\n      return null;\n    }\n  }\n});\nexport const {\n  saveUser,\n  setToken,\n  sendUsers\n} = userSlice.actions;\nexport const userData = user => {\n  //will use save user reducer\n  //console.log(user, 'is user in userdata')\n  return async dispatch => {\n    const userInfo = user;\n    dispatch(saveUser(userInfo));\n  };\n};\nexport const userToken = user => {\n  return async dispatch => {\n    const useToke = await blogService.setToken(user.token);\n    dispatch(setToken(useToke));\n  };\n};\nexport const getUsers = () => {\n  return async dispatch => {\n    const userList = await userService.getAll();\n    dispatch(sendUsers(userList));\n  };\n};\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","blogService","userService","initialState","token","localStorage","getItem","isAuthenticated","isLoading","isRegistered","userSlice","name","reducers","saveUser","state","action","console","log","JSON","parse","stringify","payload","setToken","sendUsers","actions","userData","user","dispatch","userInfo","userToken","useToke","getUsers","userList","getAll","reducer"],"sources":["C:/Users/bilstr/Documents/GitHub/part7/extended-bloglist/src/reducers/userReducer.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\nimport blogService from '../services/blogs'\nimport userService from '../services/user'\n//import { setNotif } from './notifReducer'\n\nconst initialState = {\n  token: localStorage.getItem('token'),\n  isAuthenticated: localStorage.getItem('token') ? true : false,\n  isLoading: false,\n  isRegistered: false\n}\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    saveUser(state, action) {\n      console.log(JSON.parse(JSON.stringify(state)), 'is json json state in save user')\n      console.log(state, 'is state in save user')\n      console.log(action, 'is action in save user')\n      return action.payload\n    },\n    setToken(state, action) {\n      console.log(JSON.parse(JSON.stringify(state)), 'is json json state in set token')\n      console.log(action, 'is action in set token')\n      return action.payload\n    },\n    sendUsers(state, action) {\n      console.log(action, 'is action in sendusers')\n      return null    \n    }\n  }\n})\n\nexport const { saveUser, setToken, sendUsers } = userSlice.actions\n\nexport const userData = (user) => {\n  //will use save user reducer\n  //console.log(user, 'is user in userdata')\n  return async dispatch => {\n    const userInfo = user\n    dispatch(saveUser(userInfo))\n  }\n}\n\nexport const userToken = (user) => {\n  return async dispatch => {\n    const useToke = await blogService.setToken(user.token)\n    dispatch(setToken(useToke))\n  }\n}\n\nexport const getUsers = () => {\n  return async dispatch => {\n    const userList = await userService.getAll()\n    dispatch(sendUsers(userList))\n  }\n}\n\nexport default userSlice.reducer"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,WAAW,MAAM,mBAAmB;AAC3C,OAAOC,WAAW,MAAM,kBAAkB;AAC1C;;AAEA,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACpCC,eAAe,EAAEF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,GAAG,IAAI,GAAG,KAAK;EAC7DE,SAAS,EAAE,KAAK;EAChBC,YAAY,EAAE;AAChB,CAAC;AAED,MAAMC,SAAS,GAAGV,WAAW,CAAC;EAC5BW,IAAI,EAAE,MAAM;EACZR,YAAY;EACZS,QAAQ,EAAE;IACRC,QAAQ,CAACC,KAAK,EAAEC,MAAM,EAAE;MACtBC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACN,KAAK,CAAC,CAAC,EAAE,iCAAiC,CAAC;MACjFE,OAAO,CAACC,GAAG,CAACH,KAAK,EAAE,uBAAuB,CAAC;MAC3CE,OAAO,CAACC,GAAG,CAACF,MAAM,EAAE,wBAAwB,CAAC;MAC7C,OAAOA,MAAM,CAACM,OAAO;IACvB,CAAC;IACDC,QAAQ,CAACR,KAAK,EAAEC,MAAM,EAAE;MACtBC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,SAAS,CAACN,KAAK,CAAC,CAAC,EAAE,iCAAiC,CAAC;MACjFE,OAAO,CAACC,GAAG,CAACF,MAAM,EAAE,wBAAwB,CAAC;MAC7C,OAAOA,MAAM,CAACM,OAAO;IACvB,CAAC;IACDE,SAAS,CAACT,KAAK,EAAEC,MAAM,EAAE;MACvBC,OAAO,CAACC,GAAG,CAACF,MAAM,EAAE,wBAAwB,CAAC;MAC7C,OAAO,IAAI;IACb;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEF,QAAQ;EAAES,QAAQ;EAAEC;AAAU,CAAC,GAAGb,SAAS,CAACc,OAAO;AAElE,OAAO,MAAMC,QAAQ,GAAIC,IAAI,IAAK;EAChC;EACA;EACA,OAAO,MAAMC,QAAQ,IAAI;IACvB,MAAMC,QAAQ,GAAGF,IAAI;IACrBC,QAAQ,CAACd,QAAQ,CAACe,QAAQ,CAAC,CAAC;EAC9B,CAAC;AACH,CAAC;AAED,OAAO,MAAMC,SAAS,GAAIH,IAAI,IAAK;EACjC,OAAO,MAAMC,QAAQ,IAAI;IACvB,MAAMG,OAAO,GAAG,MAAM7B,WAAW,CAACqB,QAAQ,CAACI,IAAI,CAACtB,KAAK,CAAC;IACtDuB,QAAQ,CAACL,QAAQ,CAACQ,OAAO,CAAC,CAAC;EAC7B,CAAC;AACH,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAG,MAAM;EAC5B,OAAO,MAAMJ,QAAQ,IAAI;IACvB,MAAMK,QAAQ,GAAG,MAAM9B,WAAW,CAAC+B,MAAM,EAAE;IAC3CN,QAAQ,CAACJ,SAAS,CAACS,QAAQ,CAAC,CAAC;EAC/B,CAAC;AACH,CAAC;AAED,eAAetB,SAAS,CAACwB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}